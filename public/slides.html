<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>data</title>

    <meta name="description" content="We generate a lot of data as we go about our lives">
    <meta name="author" content="Ben Foxall">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="code-github.css">

    <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="components/wo-reveal/theme/white.css">

    <link rel="stylesheet" href="styles.css">


  </head>

  <body>

    <div class="reveal">

      <div class="slides">
        <section>
          <h1>Your data and you</h1>
        </section>

        <section>
          <section>
            <h1>Hi, I'm Ben</h1>
          </section>
          <section>
            <h1>[WO]</h1>
          </section>
          <section>
            <h1>[JSOxford]</h1>
          </section>
          <section>
            <h1>üåûüîö‚è©Ô∏èüì¢üçπüéâüçñüÜôüöÄüç†</h1>
          </section>
          <section>
            <h1>[Summer of hacks]</h1>
            <aside class="notes">
              We're interested in helping people do practical stuff, which is a theme of this talk.
            </aside>
          </section>
        </section>

        <!--section>
          <section>
            <h1>[intro]</h1>
          </section>
          <section>
            <img src="images/Last.fm_Logo_Black.png" height="100"/>
          </section>
          <section>
            <h2>[@benjaminbenben lastfm]</h2>
          </section>
        </section-->

        <section>
          <section data-background="#fff">
            <!-- <h1>[overview]</h1> -->
            <h3><span class="heading-1">visualisation</span></h3>
            <h3><span class="heading-2">collecting data</span></h3>
            <h3><span class="heading-3">visualising data</span></h3>
            <h3><span class="heading-4">my data and me</span></h3>
          </section>
        </section>


        <section>
          <section>
            <h1><span class="heading-1">visualisation</span></h1>
          </section>

          <!-- <section data-transition="none">
            <h1>Graphs</h1>
          </section> -->

          <!-- <section  data-transition="none">
            <h1>Data &rarr; Graphs</h1>
          </section> -->

          <section  data-transition="none">
            <!-- <h1>visualisation:</h1> -->
            <h2 class="fragment">Data &rarr; Graphs</h2>
            <h2 class="fragment">For Humans</h2>
          </section>

        </section>


        <section>
          <section>
            <h1>Reasons to visualise</h1>
          </section>
        </section>

        <section>
          <section>
            <h2>for Humans</h2>

            <aside class="notes">
              You're helping a person understand Something
               * Pulsars?
            </aside>
          </section>

          <section data-background="images/pulsars-data.png" data-background-size="cover">
            <aside class="notes">
              PSR B1919+21
           </aside>
          </section>

          <section data-background="images/pulsars.png" data-background-size="contain">
            <aside class="notes">
              PSR B1919+21

              Jocelyn Bell Burnell and Antony Hewish
           </aside>
          </section>

          <!--section>
            <h2>Preattentive attributes</h2>
            <aside class="notes">
              **Before** you've started engaging with it
            </aside>
          </section>

          <section>
            <h2>how many 9s</h2>
          </section>

          <section>
            <h2>[image flicker]</h2>
            <aside class="notes">
              We're trying to utilise these effects to help people understand data
            </aside>
          </section-->

        </section>

        <section>
          <section>
            <h2>for Data</h2>

            <aside class="notes">
              You're focused on making that thing as clear as possible
            </aside>
          </section>

          <section data-background="images/minard.svg" data-background-size="contain">
            <aside class="notes">
              Minard
            </aside>
          </section>

          <section data-background="images/mathjaxsucks.png" data-background-size="contain">
            <!-- $\text{data-ink ratio}=\frac{\text{``ink'' used to display the data}}{\text{total ``ink'' used to display the graphic}}$

            <p><br /></p>

            $\text{data density}=\frac{\text{number of entries in data matrix}}{\text{area of data graphic}}$ -->
            <aside class="notes">
              You're focused on making that thing as clear as possible
               * Minard?
            </aside>
          </section>

          <!-- <section data-background="images/meta-xkcd.png" data-background-size="contain">
          </section> -->

        </section>

        <section>
          <section>
            <h2>for Graphs</h2>

            <aside class="notes">
              Where it's about the graph itself
               * Making something pretty for the sake of it
               * Infographics
            </aside>
          </section>


          <section data-slide-script="tweetGlobe">
          </section>

          <section data-background="images/infographics.png" data-background-size="cover" data-background-transition="slide">

            <aside class="notes">
              Where it's about the graph itself
               * Making something pretty for the sake of it
               * Infographics
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h2>for Other Humans</h2>

            <aside class="notes">
              Where the graph is purposefully misleading
              (todo: try and make this positive)
              * Truncated Axis
              * Ignoring conventions
            </aside>
          </section>

          <section>
            <img src="images/misleading1_yaxis.png" />
          </section>

          <section>
            <img src="images/misleading3_deaths.jpg" />
          </section>

        </section>


        <section>
          <section>
            <h1><span class="heading-2">Collecting Data</span></h1>
          </section>
          <section>
            <h1>public data</h1>
            <h2 class="fragment">data.gov.uk</h2>
            <h2 class="fragment">wikipedia</h2>
            <h2 class="fragment">google</h2>
            <h2 class="fragment">Ask people</h2>
            <h2 class="fragment">Make stuff up</h2>
          </section>

          <section>
            <h1>personal data</h1>
            <h2 class="fragment">download from device</h2>
            <h2 class="fragment"><span class="fragment highlight-blue">fetch back from the cloud</span></h2>
          </section>
        </section>

        <!-- <section>
          <section><img src="images/fitbit.png" /></section>
          <section><img src="images/finder-fitbit-csv.png" /></section>
          <section>
            <table border="1" style="font-size:40%">
            <tbody><tr><td>Date</td> <td>Calories Burned</td> <td>Steps</td> <td>Distance</td> <td>Floors</td> <td>Minutes Sedentary</td> <td>Minutes Lightly Active</td> <td>Minutes Fairly Active</td> <td>Minutes Very Active</td> <td>Activity Calories</td> </tr> <tr><td>01-08-2015</td> <td>2,665</td> <td>4,070</td> <td>3.57</td> <td>0</td> <td>1,289</td> <td>151</td> <td>0</td> <td>0</td> <td>696</td> </tr> <tr><td>02-08-2015</td> <td>3,445</td> <td>12,130</td> <td>10.63</td> <td>0</td> <td>583</td> <td>278</td> <td>15</td> <td>30</td> <td>1,715</td> </tr> <tr><td>03-08-2015</td> <td>3,218</td> <td>8,989</td> <td>7.87</td> <td>0</td> <td>682</td> <td>248</td> <td>11</td> <td>24</td> <td>1,398</td> </tr> <tr><td>04-08-2015</td> <td>3,449</td> <td>11,833</td> <td>10.37</td> <td>0</td> <td>629</td> <td>270</td> <td>31</td> <td>30</td> <td>1,708</td> </tr> <tr><td>05-08-2015</td> <td>3,113</td> <td>7,494</td> <td>6.57</td> <td>0</td> <td>737</td> <td>251</td> <td>11</td> <td>13</td> <td>1,281</td> </tr> <tr><td>06-08-2015</td> <td>3,462</td> <td>11,590</td> <td>10.16</td> <td>0</td> <td>651</td> <td>314</td> <td>26</td> <td>20</td> <td>1,782</td> </tr> <tr><td>07-08-2015</td> <td>3,184</td> <td>8,011</td> <td>7.02</td> <td>0</td> <td>620</td> <td>300</td> <td>7</td> <td>4</td> <td>1,412</td> </tr> <tr><td>08-08-2015</td> <td>2,972</td> <td>7,840</td> <td>6.87</td> <td>0</td> <td>687</td> <td>202</td> <td>24</td> <td>9</td> <td>1,169</td> </tr> <tr><td>09-08-2015</td> <td>2,754</td> <td>6,448</td> <td>6.71</td> <td>0</td> <td>1,345</td> <td>58</td> <td>1</td> <td>36</td> <td>790</td> </tr> <tr><td>10-08-2015</td> <td>2,072</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>11-08-2015</td> <td>2,071</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>12-08-2015</td> <td>2,070</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>13-08-2015</td> <td>2,070</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>14-08-2015</td> <td>2,072</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>15-08-2015</td> <td>2,070</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>16-08-2015</td> <td>2,070</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>17-08-2015</td> <td>2,070</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> <tr><td>18-08-2015</td> <td>2,070</td> <td>0</td> <td>0</td> <td>0</td> <td>1,440</td> <td>0</td> <td>0</td> <td>0</td> <td>0</td> </tr> </tbody></table>
          </section>
          <section><img src="images/fitbit-request.png" class="stretch" /></section>
          <section>
            <p style="font-size:70%">"&#36;os" "&#36;browser" "&#36;referrer" "&#36;referring_domain" "&#36;current_url"  <span class="fragment highlight-blue">"&#36;browser_version" "&#36;screen_height" "&#36;screen_width"</span> "mp_lib" "&#36;lib_version" "distinct_id" <span class="fragment highlight-blue">"city" "country"</span> "interface" "member" "state" "timezone" "Api Usage" "City" "State" "Member" "Tracker" "Locale" "LocaleLang" "LocaleReal" "Loggedin" "&#36;initial_referrer" "&#36;initial_referring_domain" "Environment" "Logged In" "Platform" "Operating System Version" "&#36;search_engine" "Profile Country" "Timezone" "Premium" "iPhone" "SignUp Cohort" "SignUp Cohort Date" "SignUp Offer" "SignUp iPhone" "SignUp OAuth" "Condition" "Activity Level" "Api Usage Date" "Api User" "utm_source" "utm_medium" "utm_campaign" "Age" "Has Android App" "Paired One" "Has iPhone App" "Paired Zip" "Paired Aria" "Height" "Premium Expired" "Paired Devices" "Goal Weight Change" "Paired Force" "Paired Ultra" "Gender" "Google Linked" "GoalPrimary" "Food Plan Intensity" "Paired Flex" <span class="fragment highlight-blue">"Body Type"</span> "User Age Range" "Paired Classic" "Facebook Linked" "!PAGE_TYPE" "!UI_EVENT" "!TIME_PERIOD" "!DATA_TYPE" "!FILE_FORMAT" "token"</p>
          </section>
          <section>
            <h1>"Body Type": null</h1>
          </section>
        </section> -->

        <section>
          <section>
            <img src="images/runkeeper.png" />
          </section>
          <section>
            <h1>activities.csv</h1>
          </section>
        </section>

        <section>
          <section>
            <h1>Approach 1.</h1>
            <h2 class="fragment">Download your data</h2>
          </section>
          <section><img src="images/runkeeper-export.png" /></section>
          <section><img src="images/finder-runkeeper-export.png" /></section>
          <section>
            <ul class="points">
              <!-- <li class="positive">Any user can get their data</li> -->
              <li class="negative">No format options</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1>Approach 2.</h1>
            <h2 class="fragment">Write a script</h2>
          </section>
          <section><img src="images/runkeeper-export-script.png" /></section>
          <section>
            <ul class="points">
              <li class="positive">Any format we want</li>
              <li class="negative">Requires coding knowledge</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1>Approach 3.</h1>
            <h2 class="fragment">Build a website</h2>
          </section>
          <section>[website screenshot]</section>
          <section>
            <ul class="points">
              <li class="positive">No coding necessary</li>
              <li class="negative">Complex backend &amp; privacy issues</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1> </h1>
            <h1>Approach 4.</h1>
            <h2 class="fragment">Use the browser</h2>
            <h1 class="fragment">üöÄüåüüêéüê†‚úÖ</h1>
          </section>

          <section>[Server, browser, api diagram]</section>

          <section>
            <ul class="points">
              <li class="positive">Data only stored by user</li>
              <li class="positive">Simple backend</li>
              <li class="negative">CSV file</li>
            </ul>
          </section>

          <section>
            <h1>Approach 4.b</h1>
            <h2 class="fragment">+ Service workers</h2>
          </section>

          <section>
            <pre><code class="javascript">navigator.serviceWorker.register('sw.js')</code></pre>
          </section>

          <section>
            <pre><code class="javascript" data-trim>

if(event.request.url.match(/sw\/hello\.txt$/)){
  event.respondWith(
    new Response( "Hello from your Service Worker", {
      headers: { 'Content-Type': 'plain/text' }
    })
  )
})

            </code></pre>
          </section>
          <section>
            <h1><a href="/sw/hello.txt" target="_blank">sw/hello.txt</a></h1>
          </section>
          <section>
          <pre><code class="javascript" data-trim>

if(event.request.url.match(/sw\/activities\.csv$/)){
  event.respondWith(
    generateCSVString()
    .then(function(str){
      return new Response( str, {
        headers: { 'Content-Type': 'text/csv' }
      })
    })
  )
}
          </code></pre>

        </section>

        <section>
          <h2>summary.csv</h2>
          <h2 class="fragment">distances.csv</h2>
          <h2 class="fragment">geo.json</h2>
          <h2 class="fragment">paths.bin</h2>
        </section>
      </section>

        <section>
          <section>
            <h1>summary.csv &rarr; html</h1>
          </section>

          <section>
            <code><pre>
              fetch('summary.json')
                .then(function(res){return res.json()})
                .then(function(summary){
                  document.getElementById('distance').innerText = summary.distance
                })
            </pre></code>
          </section>

          <section data-slide-script="runkeeperSummary">
            <h1 class="value">-</h1>
          </section>

          <section data-slide-script="runkeeperSummaryEarth">

            <!--  don‚Äôt think anyone knows how big the world is.

              Or, I don‚Äôt see how anyone can understand how big it is.
              I can understand how far away I am from the fridge, or
              how far it is to the nearest shop; but I haven‚Äôt a clue
              about how big the world is.

              Other than ‚Äúreally big‚Äù perhaps. -->
          </section>

          <section data-slide-script="runkeeperSummaryUK">
            <!-- I really like turning the map on its side, ireland is like
              the mild weathered island off the coast -->
          </section>

        </section>

        <section>
          <h1><span class="heading-3">Visualising Data</span></h1>
        </section>

        <section>

          <section>
            <h1>distances.csv</h1>
          </section>

          <section data-slide-script="runkeeperDuration">
          </section>

        </section>


        <section>
          <section>
            <h1>geo.json</h1>
          </section>

          <section data-slide-script="runkeeperGeoCanvas">

            <span class="fragment" data-canvas-poi='{"lng": -1.8833,"lat":54.5, "margin":4, "name":"uk"}'></span>
            <span class="fragment" data-canvas-poi='{"lng": -1.2322173322475571, "lat": 51.75219395439743, "margin": 2, "name":"england"}'></span>
            <span class="fragment" data-canvas-poi='{"lng": -1.2322173322475571, "lat": 51.75219395439743, "margin": 0.05, "name":"oxford"}'></span>
            <span class="fragment" data-canvas-poi='{"lng": -0.1897, "lat":50.8429, "margin":0.045, "name":"brighton"}'></span>
            <span class="fragment" data-canvas-poi='{"lng": -116.9667, "lat": 51.3019, "margin": 0.04, "name":"golden"}'></span>

          </section>

          <section>
            <svg xmlns="http://www.w3.org/2000/svg" width="1280" height="720" viewBox="0 0 1280 720">
              <style>
                use.map{
                  fill:#000;
                  transition: .85s transform !important;
                }
                use.map.fragment {
                  opcity: 1;
                  transform: translate(0, 600px)
                }
                use.map.fragment.right{
                  transform: translate(500px, 0)
                }
                use.map.fragment.left{
                  transform: translate(-500px, 0)
                }
                use.map.fragment.visible {
                  transform: translate(0, 0)
                }
              </style>
              <use x="-300" xlink:href="images/uk-path.svg#map" class="map fragment left"/>
              <use x="300" xlink:href="images/uk-path-equi.svg#map"  class="map fragment right"/>
           </svg>
          </section>

          <section>
            <h1>d3.geo</h1>
          </section>

          <section data-slide-script="d3Projections">
            <aside class="notes">
              <ol>
                <li>projection for mapping from equi -> usual</li>
                <li>
              </ol>
            </aside>
          </section>

          <section data-slide-script="runkeeperPaths">
            <aside class="notes">
              <ol>
                <li>Start with a single path, describe the use of an svg</li>
                <li>bring in the rest</li>
                <li>by displaying the paths together we've solved the problem of the canvas map</li>
                <li>bounding boxes</li>
                <li>Oxford - showing the gathered together paths</li>
                <li>Brighton - where we are, shoreham, hacks</li>
              </ol>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>paths.bin</h1>
          </section>

          <section  data-slide-script="runkeeperGlobe">
          </section>

          <section>
            <h1>[webgl]</h1>
            <aside class="notes">
              <ol>
                <li>Canada - describe roads</li>
                <li>rotating around</li>
                <li>angle down</li>
              </ol>
            </aside>
          </section>
        </section>




        <section>
          <section>
            <h1>You and Your Data</h1>
          </section>

          <section>
            <h2>
          </section>
        </section>


        <section>
          <section>
            <!--
              TODO: Conclusion

              * Your data is nothing without you
              * Know what

              When you're creating something
              * Think about people
              * Think further than the chart

            -->
          </section>

        </section>

      </div>

    </div>

    <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
    <script src="bower_components/reveal.js/js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      var options = {
        controls: false,
        progress: false,
        history: true,
        center: true,

        width: 1280,
        height: 720,

        margin: 0,

        transition: 'slide',

        // Optional reveal.js plugins
        dependencies: [
          { src: 'bower_components/reveal.js/plugin/notes/notes.js', async: true },
          // { src: 'bower_components/reveal.js/plugin/math/math.js', async: true },
          { src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },

          // Slide deps
          { src: 'components/dynamic-slide/dynamic-slide.js', async: false },

          //
          { src: 'bower_components/d3/d3.js', async: false },
          { src: 'bower_components/topojson/topojson.js', async: false },
          { src: 'sources/runkeeper/geofn.js', async: false },

          { src: 'sources/runkeeper/bower_components/threejs/build/three.js', async: false },
          { src: 'sources/runkeeper/three.orbit.js', async: false },

          { src: 'sources/runkeeper/bower_components/tweenjs/build/tween.min.js', async: false },

          { src: 'bower_components/sylvester/sylvester.js', async: false },

        ],

        // // if I've bothered to install it locally
        // // bower install mathjax
        // math: {
        //    mathjax: 'bower_components/MathJax/MathJax.js'
        // }
      };


      // look through slides for any dependencies and load them
      [].forEach.call(document.querySelectorAll('[data-slide-script]'),function(el) {
        var key = el.dataset.slideScript;
        var src = 'slidejs/' + key + '.js';
        var orig;

        var found = options.dependencies.filter(function(dep){
          return dep.src == src;
        })[0];

        if(found) {
          var orig = found.callback;
          found.callback = callback;
          return;
        }

        options.dependencies.push({
          src: src,
          async: true,
          callback: callback
        })

        function callback(){
          var Fn = window[key];
          if(typeof(Fn) !== 'function')
            throw new Error('slide Fn not defined: ' + key + '()')

          if(orig) orig();
          new Fn(el);
        }
      })


      Reveal.initialize(options);

    </script>

  </body>
</html>
